<Window
    x:Class="SubtitleBatchEditor.SettingsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:SubtitleBatchEditor"
    xmlns:models="using:SubtitleBatchEditor.Models"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="치환 규칙 설정"
    Width="520"
    Height="420">

    <Grid Padding="20" RowDefinitions="Auto,*,Auto" RowSpacing="12">
        <StackPanel Orientation="Horizontal" Spacing="8">
            <Button Content="규칙 추가" Click="OnAddRule" />
            <TextBlock Text="왼쪽 문자열 → 오른쪽 문자열" VerticalAlignment="Center" />
        </StackPanel>

        <ListView Grid.Row="1" ItemsSource="{x:Bind Rules, Mode=OneWay}">
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="models:ReplaceRule">
                    <Grid ColumnDefinitions="*,Auto,*,Auto" ColumnSpacing="8">
                        <TextBox Text="{x:Bind From, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" PlaceholderText="찾을 문자열" />
                        <TextBlock Grid.Column="1" Text="→" VerticalAlignment="Center" />
                        <TextBox Grid.Column="2" Text="{x:Bind To, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" PlaceholderText="바꿀 문자열" />
                        <Button Grid.Column="3" Content="삭제" Click="OnRemoveRule" Tag="{x:Bind}" />
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <TextBlock Grid.Row="2" Text="규칙은 위에서 아래 순서대로 적용됩니다." Foreground="Gray" />
    </Grid>
</Window>
